import{_ as A,a as g,k as S,r as x,l as B,m as k,o as d,c,b as t,F,e as E,q as _,f,t as l,p as M,i as N}from"./index-Dh1jmiJ7.js";const i=u=>(M("data-v-7b7e434d"),u=u(),N(),u),C={class:"transactions-container"},w=i(()=>t("h2",null,"Transactions",-1)),$={class:"search-fields"},V={class:"search-dates"},q=i(()=>t("label",{for:"start-date"},"Start Date:",-1)),L=i(()=>t("label",{for:"end-date"},"End Date:",-1)),O={class:"search-amounts"},R=i(()=>t("label",{for:"min-amount"},"Min Amount:",-1)),j=i(()=>t("label",{for:"max-amount"},"Max Amount:",-1)),z={class:"search-ibans"},G=i(()=>t("label",{for:"iban-from"},"IBAN From:",-1)),H=i(()=>t("label",{for:"iban-to"},"IBAN To:",-1)),J=i(()=>t("div",{class:"transactions-grid transactions-header"},[t("div",null,"Date & Time"),t("div",null,"Type"),t("div",null,"Amount"),t("div",null,"Description"),t("div",null,"IBAN From"),t("div",null,"IBAN To")],-1)),K={class:"transactions-list"},P={key:0},Q={class:"iban-from"},U={class:"iban-to"},W={key:1},X={__name:"Transactions",setup(u){const e=g(),y=S(),m=x(!1);let a={startDate:"",endDate:"",minAmount:null,maxAmount:null,ibanFrom:"",ibanTo:""};function h(s){const[o,n]=s.split(" ");return{date:o,time:n}}const r=s=>{const{name:o,value:n}=s.target;a[o]=n},p=s=>{const[o,n,D]=s.split("-");return`${D}-${n}-${o}`},I=()=>{m.value=!0;const s=new Date().toISOString().split("T")[0],o=a.startDate?p(a.startDate):"",n=a.endDate?p(a.endDate):p(s);e.searchTransactions({startDate:o,endDate:n,minAmount:a.minAmount,maxAmount:a.maxAmount,ibanFrom:a.ibanFrom,ibanTo:a.ibanTo})},T=()=>{a={startDate:"",endDate:"",minAmount:null,maxAmount:null,ibanFrom:"",ibanTo:""},m.value=!1,e.resetSearch(),document.getElementById("start-date").value="",document.getElementById("end-date").value="",document.getElementById("min-amount").value="",document.getElementById("max-amount").value="",document.getElementById("iban-from").value="",document.getElementById("iban-to").value=""},v=async()=>{const s=y.id;e.hasMore&&(await e.fetchCustomerTransactions(s),console.log(e.transactions))},b=B(()=>m.value?e.filteredTransactions:e.transactions);return k(async()=>{e.resetTransactions(),await v(),console.log(e.transactions)}),(s,o)=>(d(),c("div",C,[w,t("div",$,[t("div",V,[t("div",null,[q,t("input",{type:"date",id:"start-date",name:"startDate",onInput:r},null,32)]),t("div",null,[L,t("input",{type:"date",id:"end-date",name:"endDate",onInput:r},null,32)])]),t("div",O,[t("div",null,[R,t("input",{type:"number",id:"min-amount",name:"minAmount",onInput:r},null,32)]),t("div",null,[j,t("input",{type:"number",id:"max-amount",name:"maxAmount",onInput:r},null,32)])]),t("div",z,[t("div",null,[G,t("input",{type:"text",id:"iban-from",name:"ibanFrom",onInput:r},null,32)]),t("div",null,[H,t("input",{type:"text",id:"iban-to",name:"ibanTo",onInput:r},null,32)])]),t("div",{class:"button-container"},[t("button",{class:"search-btn",onClick:I},"Search"),t("button",{class:"reset-btn",onClick:T},"Reset")])]),J,t("div",K,[m.value&&b.value.length===0?(d(),c("div",P,"No transactions found.")):(d(!0),c(F,{key:1},E(b.value,n=>(d(),c("div",{key:n.id,class:"transactions-grid transaction-card"},[t("div",null,[t("div",null,l(h(n.timestamp).date),1),t("div",null,l(h(n.timestamp).time),1)]),t("div",null,l(n.type),1),t("div",null,l(n.amount),1),t("div",null,l(n.message),1),t("div",Q,l(n.ibanFrom),1),t("div",U,l(n.ibanTo),1)]))),128))]),_(e).hasMore?(d(),c("button",{key:0,class:"showMore-btn",onClick:v},"↓ Show More ↓")):f("",!0),!_(e).hasMore&&_(e).transactions.length>0?(d(),c("p",W,"No more transactions to load.")):f("",!0)]))}},Z=A(X,[["__scopeId","data-v-7b7e434d"]]);export{Z as default};
