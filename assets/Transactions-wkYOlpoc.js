import{_ as A,a as g,k as x,r as S,l as B,m as k,o as d,c,b as t,F,e as E,s as h,f,t as l,p as M,i as N}from"./index-BTuUgPTm.js";const i=u=>(M("data-v-a22b0542"),u=u(),N(),u),C={class:"transactions-container"},w=i(()=>t("h2",null,"Transactions",-1)),$={class:"search-fields"},V={class:"search-dates"},L=i(()=>t("label",{for:"start-date"},"Start Date:",-1)),R=i(()=>t("label",{for:"end-date"},"End Date:",-1)),j={class:"search-amounts"},q=i(()=>t("label",{for:"min-amount"},"Min Amount:",-1)),z=i(()=>t("label",{for:"max-amount"},"Max Amount:",-1)),G={class:"search-ibans"},H=i(()=>t("label",{for:"iban-from"},"IBAN From:",-1)),J=i(()=>t("label",{for:"iban-to"},"IBAN To:",-1)),K=i(()=>t("div",{class:"transactions-grid transactions-header"},[t("div",null,"Date & Time"),t("div",null,"Type"),t("div",null,"Amount"),t("div",null,"Description"),t("div",null,"IBAN From"),t("div",null,"IBAN To")],-1)),O={class:"transactions-list"},P={key:0},Q={class:"iban-from"},U={class:"iban-to"},W={key:1},X={__name:"Transactions",setup(u){const e=g(),y=x(),m=S(!1);let a={startDate:"",endDate:"",minAmount:null,maxAmount:null,ibanFrom:"",ibanTo:""};function p(s){const[o,n]=s.split(" ");return{date:o,time:n}}const r=s=>{const{name:o,value:n}=s.target;a[o]=n},_=s=>{const[o,n,D]=s.split("-");return`${D}-${n}-${o}`},I=()=>{m.value=!0;const s=a.startDate?_(a.startDate):"",o=a.endDate?_(a.endDate):_(today);e.searchTransactions({startDate:s,endDate:o,minAmount:a.minAmount,maxAmount:a.maxAmount,ibanFrom:a.ibanFrom,ibanTo:a.ibanTo})},T=()=>{a={startDate:"",endDate:"",minAmount:null,maxAmount:null,ibanFrom:"",ibanTo:""},m.value=!1,e.resetSearch(),document.getElementById("start-date").value="",document.getElementById("end-date").value="",document.getElementById("min-amount").value="",document.getElementById("max-amount").value="",document.getElementById("iban-from").value="",document.getElementById("iban-to").value=""},v=async()=>{const s=y.id;e.hasMore&&(await e.fetchCustomerTransactions(s),console.log(e.transactions))},b=B(()=>m.value?e.filteredTransactions:e.transactions);return k(async()=>{e.resetTransactions(),await v(),console.log(e.transactions)}),(s,o)=>(d(),c("div",C,[w,t("div",$,[t("div",V,[t("div",null,[L,t("input",{type:"date",id:"start-date",name:"startDate",onInput:r},null,32)]),t("div",null,[R,t("input",{type:"date",id:"end-date",name:"endDate",onInput:r},null,32)])]),t("div",j,[t("div",null,[q,t("input",{type:"number",id:"min-amount",name:"minAmount",onInput:r},null,32)]),t("div",null,[z,t("input",{type:"number",id:"max-amount",name:"maxAmount",onInput:r},null,32)])]),t("div",G,[t("div",null,[H,t("input",{type:"text",id:"iban-from",name:"ibanFrom",onInput:r},null,32)]),t("div",null,[J,t("input",{type:"text",id:"iban-to",name:"ibanTo",onInput:r},null,32)])]),t("div",{class:"button-container"},[t("button",{class:"search-btn",onClick:I},"Search"),t("button",{class:"reset-btn",onClick:T},"Reset")])]),K,t("div",O,[m.value&&b.value.length===0?(d(),c("div",P,"No transactions found.")):(d(!0),c(F,{key:1},E(b.value,n=>(d(),c("div",{key:n.id,class:"transactions-grid transaction-card"},[t("div",null,[t("div",null,l(p(n.timestamp).date),1),t("div",null,l(p(n.timestamp).time),1)]),t("div",null,l(n.type),1),t("div",null,l(n.amount),1),t("div",null,l(n.message),1),t("div",Q,l(n.ibanFrom),1),t("div",U,l(n.ibanTo),1)]))),128))]),h(e).hasMore?(d(),c("button",{key:0,class:"showMore-btn",onClick:v},"↓ Show More ↓")):f("",!0),!h(e).hasMore&&h(e).transactions.length>0?(d(),c("p",W,"No more transactions to load.")):f("",!0)]))}},Z=A(X,[["__scopeId","data-v-a22b0542"]]);export{Z as default};
