import{_ as b,u as C,o as a,c as r,b as e,d as _,v as h,f as m,g as I,p as A,i as f,z as F,l as L,r as v,m as U,A as S,t as l,F as k,e as w,n as g}from"./index-DPlxrR8c.js";const M={name:"AccountForm",props:{userId:{type:String,required:!0}},data(){return{account:{absoluteLimit:0,transactionLimit:0,active:!0}}},methods:{async submitForm(){const t=C();try{await t.createAccounts({...this.account,userId:this.userId}),this.$emit("accountCreated",this.userId)}catch(o){console.error("Failed to create account:",o)}}}},p=t=>(A("data-v-bd3429de"),t=t(),f(),t),N={class:"account-form"},$=p(()=>e("h2",null,"Create Account",-1)),x=p(()=>e("label",{for:"absoluteLimit"},"Absolute Limit:",-1)),B=p(()=>e("label",{for:"transactionLimit"},"Transaction Limit:",-1)),V={key:0,type:"submit"};function q(t,o,u,s,i,d){return a(),r("div",N,[$,e("form",{onSubmit:o[2]||(o[2]=I((...n)=>d.submitForm&&d.submitForm(...n),["prevent"]))},[e("div",null,[x,_(e("input",{type:"number",id:"absoluteLimit","onUpdate:modelValue":o[0]||(o[0]=n=>i.account.absoluteLimit=n),required:"",min:"0"},null,512),[[h,i.account.absoluteLimit]])]),e("div",null,[B,_(e("input",{type:"number",id:"transactionLimit","onUpdate:modelValue":o[1]||(o[1]=n=>i.account.transactionLimit=n),required:"",min:"0"},null,512),[[h,i.account.transactionLimit]])]),t.accountCreated?m("",!0):(a(),r("button",V,"Create Account"))],32)])}const T=b(M,[["render",q],["__scopeId","data-v-bd3429de"]]),D={name:"ApprovedUsers",components:{AccountForm:T},setup(){const t=F(),o=L(()=>t.approvedUsers),u=v(null),s=v("");return U(async()=>{await t.fetchApprovedUsers()}),{approvedUsers:o,selectedUserId:u,successMessage:s,showForm:n=>{u.value=n,s.value=""},handleAccountCreated:async()=>{await t.fetchApprovedUsers(),u.value=null,s.value="Account successfully created!",setTimeout(()=>{s.value=""},3e3)}}}},y=t=>(A("data-v-c051ae97"),t=t(),f(),t),E={class:"approved-users"},z=y(()=>e("h2",null,"Approved Users",-1)),j={key:0,class:"success-message"},G={class:"user-table"},H=y(()=>e("thead",null,[e("tr",null,[e("th",null,"Name"),e("th",null,"Email"),e("th",null,"Actions")])],-1)),J=["onClick"];function K(t,o,u,s,i,d){const n=S("AccountForm");return a(),r("div",E,[z,s.successMessage?(a(),r("div",j,l(s.successMessage),1)):m("",!0),e("table",G,[H,e("tbody",null,[(a(!0),r(k,null,w(s.approvedUsers,c=>(a(),r("tr",{key:c.id,class:"user-item"},[e("td",null,l(c.firstName)+" "+l(c.lastName),1),e("td",null,l(c.email),1),e("td",null,[!c.accountCreated&&s.selectedUserId!==c.id?(a(),r("button",{key:0,onClick:O=>s.showForm(c.id),class:"approve-button"}," Create Account ",8,J)):m("",!0),s.selectedUserId===c.id?(a(),g(n,{key:1,userId:c.id,onAccountCreated:s.handleAccountCreated},null,8,["userId","onAccountCreated"])):m("",!0)])]))),128))])])])}const Q=b(D,[["render",K],["__scopeId","data-v-c051ae97"]]);export{Q as default};
